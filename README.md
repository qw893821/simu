My simulation project is a thermal conduction simulation. 

The main library I used to build my project is P5js, in addition, I use the jQuery.js and jQuery UI to help develop my project. P5js is a canvas based library which means I can easily place my DOM in the browser and plan the position I want. However, when I combine “element.position” with CSS thing when into chaos. I do not notice this issue until the last two days before showing my project. As I was also trying to solve another bug in my project, I do not solve this problem before the presentation. After the presentation, I come up with two solutions to solve the problem.  
  1. As Jay has given me some suggestion that P5js do have some function which could help me solve the problem. I make additional research and found a function called “resizeCanvas()” which I think would be the one could solve the problem. Combined with the “.resize()” event, when I adjust the window size, I could change the canvas size and make the DOM position dynamic. I have some test of “resize” event and “resizeCanvas”, both works on a test page. 
  2. The second solution is more straightforward. I use “left” in CSS to place the DOM position rather than the “right” which I previous use. This one reminds of the very basic principle of programming. The default coordinate (0,0) value is at the top left of the canvas. When I use “right” which is not a fixed value, the position will not go as I want.  
  
The second one is related to “draw()”. To make a function run 60 frames per second, the default value of P5js “draw()”, it requires some additional work without P5js. As I do not know “draw()” is exactly doing even after trying to find related content on Github. I’m guessing it would work a bit like a “setInterval” of the function or a self-execute anonymous function with “setTimeout”. However, they this two method do have slight differences. For example, when I have a function which requires 10 milliseconds to execute, with an interval timer of 20, I would have the function run 50 times per second. However, a self-execute anonymous function with an outer timer of 20 will run 33 times. If I use the draw function in P5js without using a timer, the calculation result will change like crazy because “draw” is running 60 times per second.  

The third point I found during this simulation project is how different each browser behave. In the refined simulation in week 10, I do not have any visual elements to make people understand what I’m doing at that moment. As a result, I add a .jpg in the refined version and add .gif to show the animation in the exhibit version in class. I use “Image()” to load .jpg and use “createIMG()” to load .gif. 
  1. Chrome. Unable to load local .jpg by using the “Image” function provided by P5js. The whole project is unworkable when using Chrome. Loading .gif will not cause failure, but the .gif is not showing in the browser. It also unable to change the fill color of the canvas.  
  2. Safari The result is identical.  
  3. Firefox. Can load both .jpg and .gif using P5js, but .gif will not show when using Firefox unless refresh the browser. After refreshing the browser, the .gif is fully working.  
  4. Edge Not a popular browser but the best one for my project. Have no issue with images, furthermore, the .gif stopped playing when it was hidden. In this way, the simulation feels more dynamic.
  
I solved the image issue by adding some line in HTML. As the image is will appear when refresh Firefox, I try to load the image in HTML rather than in JavaScript. Then the .gif file appears at the first time run the browser, including Chrome. Safari’s result would be identical as I do not have one installed on my PC, I do not have the chance to test it. 

Next point is related to the ES6 and library. The most used feature in my code is “`${}`” which is easy to combine string and variable. As I am using jQuery to create a multiline input field in my code, I tend to use more and more jQuery in this project after that. Some of the jQuery require use string to set the value which I think would be the best place to use the `$`. However, the thing does not work as I thought. I use this magic word when setting the fill color of the canvas. To be clear, this magic word is working but not as intended. I do the code like this: 
 
This first line is the one I’m using to make the project work. This one proves that the $ is working. 

The second is the one I tried first which I think will also work as I have converted the color value from decimal to hex. So the string should look like “#ffffff” or other value based on the actual value of “color”. However, when I check the value in inspecting, the value which is changing the “B” value of RGB color.  

Then I third the third one which makes thing become more interesting. Every time when B value goes to zero(which I think is impossible because of the method I use will never set the value to 0), the G value will reduce 1 and the B value set to 255 then the process works constantly.  

The last I would talk about is the “logical not operator”. This is the most common mark used in my coding if I am writing the condition. Sometimes it is easier to check if one condition is not true then return false. Sometimes I find people using this mark as a variable in a condition check which I am curious of but never have thought too much about that until I meet a bug in my code where I used the condition to check two records of value. The media called heat is not necessary to be warmer than the one called cold. But every time I set the temperature to reverse the simulation, the program always shows the Bouncing happens so the system is stable at the moment. I check the code again and again and finally found an exclamation mark at the front of a variable. When I remove the mark, the condition check works as I want. When I use “!” at the front of a variable, the variable, in my case, will become “false”. The comparison of two value will become the comparison of two number eventually. True will return a value of 1 and false is 0. I do never notice it before I do this project.  

There is one thing I want to do but never tried. In my plan, I want to add some layer, to enable the user to add a layer and show how different material together could affect the thermal transform rate. But later I find out that I miss understanding the theory which I thought would be used in the project. The addition work for the multiple layer have realistic meaning but do not  have much to do with coding. So I remove that feature and try to make other part better. 
 
Reference: 
“Calling a Function Every 60 Seconds.” Javascript - Calling a Function Every 60 Seconds - Stack Overflow, stackoverflow.com/questions/3138756/calling-a-function-every-60-seconds.  “Logical Not Operator(!).” Logical Not Operator(!), jsforallof.us/2014/07/10/logical-notoperator/.  “What Does the Exclamation Mark Do before the Function?” Javascript - What Does the Exclamation Mark Do before the Function? - Stack Overflow, stackoverflow.com/questions/3755606/what-does-the-exclamation-mark-do-before-the-function. 
